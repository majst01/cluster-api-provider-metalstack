
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.3.0
  creationTimestamp: null
  name: metalstackmachines.infrastructure.cluster.x-k8s.io
spec:
  additionalPrinterColumns:
  - JSONPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
    description: Cluster to which this MetalStackMachine belongs
    name: Cluster
    type: string
  - JSONPath: .status.instanceState
    description: MetalStack instance state
    name: State
    type: string
  - JSONPath: .status.ready
    description: Machine ready status
    name: Ready
    type: string
  - JSONPath: .spec.providerID
    description: MetalStack instance ID
    name: InstanceID
    type: string
  - JSONPath: .metadata.ownerReferences[?(@.kind=="Machine")].name
    description: Machine object which owns with this MetalStackMachine
    name: Machine
    type: string
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: MetalStackMachine
    listKind: MetalStackMachineList
    plural: metalstackmachines
    singular: metalstackmachine
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: MetalStackMachine is the Schema for the metalstackmachines API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: MetalStackMachineSpec defines the desired state of MetalStackMachine
          properties:
            hardwareReservationID:
              description: HardwareReservationID is the unique machine hardware reservation ID or `next-available` to automatically let the MetalStack api determine one.
              type: string
            image:
              type: string
            machineType:
              type: string
            networkIDs:
              items:
                type: string
              type: array
            partition:
              type: string
            projectID:
              description: ID of the machine. This field is required by Cluster API.
              type: string
            providerID:
              type: string
            sshKeys:
              items:
                type: string
              type: array
            tags:
              description: Tags is an optional set of tags to add to MetalStack resources managed by the MetalStack provider.
              items:
                type: string
              type: array
            type:
              type: string
          required:
          - image
          - machineType
          - partition
          type: object
        status:
          description: MetalStackMachineStatus defines the observed state of MetalStackMachine
          properties:
            addresses:
              description: Addresses contains the MetalStack machine associated addresses.
              items:
                description: NodeAddress contains information for the node's address.
                properties:
                  address:
                    description: The node address.
                    type: string
                  type:
                    description: Node address type, one of Hostname, ExternalIP or InternalIP.
                    type: string
                required:
                - address
                - type
                type: object
              type: array
            allocated:
              type: boolean
            errorMessage:
              description: "ErrorMessage will be set in the event that there is a terminal problem reconciling the Machine and will contain a more verbose string suitable for logging and human consumption. \n This field should not be set for transitive errors that a controller faces that are expected to be fixed automatically over time (like service outages), but instead indicate that something is fundamentally wrong with the Machine's spec or the configuration of the controller, and that manual intervention is required. Examples of terminal errors would be invalid combinations of settings in the spec, values that are unsupported by the controller, or the responsible controller itself being critically misconfigured. \n Any transient errors that occur during the reconciliation of Machines can be added as events to the Machine object and/or logged in the controller's output."
              type: string
            errorReason:
              description: Any transient errors that occur during the reconciliation of Machines can be added as events to the Machine object and/or logged in the controller's output.
              type: string
            failureMessage:
              type: string
            failureReason:
              description: Constants aren't automatically generated for unversioned packages. Instead share the same constant for all versioned packages
              type: string
            instanceStatus:
              description: InstanceStatus is the status of the MetalStack machine instance for this machine.
              type: string
            liveliness:
              type: string
            lldp:
              type: boolean
            ready:
              description: Ready is true when the provider resource is ready.
              type: boolean
          type: object
      type: object
  version: v1alpha3
  versions:
  - name: v1alpha3
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
